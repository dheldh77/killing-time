{"filter":false,"title":"real_story.rb","tooltip":"/app/models/real_story.rb","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":10,"column":4},"end":{"row":26,"column":6},"action":"remove","lines":["has_many :likes","    has_many :liked_users, through: :likes, source: :user","    ","    has_many :bookmarks","    has_many :bookmarked_users, through: :bookmarks, source: :user","    ","    has_many :impressions, :as=>:impressionable"," ","   def impression_count","       impressions.size","   end"," ","   def unique_impression_count","       # impressions.group(:ip_address).size gives => {'127.0.0.1'=>9, '0.0.0.0'=>1}","       # so getting keys from the hash and calculating the number of keys","       impressions.group(:ip_address).size.keys.length #TESTED","   end"],"id":54}],[{"start":{"row":3,"column":4},"end":{"row":3,"column":27},"action":"remove","lines":["serialize :image, Array"],"id":55}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":4},"end":{"row":6,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1534326393539,"hash":"7af9da864291dc0d3fe9e6a6a75893d323e0748f"}