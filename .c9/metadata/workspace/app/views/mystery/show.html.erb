{"filter":false,"title":"show.html.erb","tooltip":"/app/views/mystery/show.html.erb","undoManager":{"mark":20,"position":20,"stack":[[{"start":{"row":0,"column":0},"end":{"row":94,"column":6},"action":"remove","lines":["<div class=\"container\">","    <!--<hr />은 줄을 그어줌-->","    <h1><%= @post.title %></h1><hr />","    <!--이 div안에 있는 건 다 오른쪽으로 옮긴다.-->","    <div style=\"text-align:right;\">","        <!--config 폴더에 application에서 timezone을 Seoul로 바꾸고 +0900을 없앤다.-->","        <!--자료형이 datetime이기 때문에 string으로 바꾼다. 이후에 +를 기준으로 나눈다. 앞에껄 쓴다. secend나 last로 써도 된다.-->","        <!--뒤에 꺼는 몇 분전에 작성된 글인지 보여준다.-->","        <div><%= @post.created_at.to_s.split(\"+\").first %>, <%= time_ago_in_words(@post.created_at)%> ago</div>","        <div><%= @post.user.username %></div>","        <!--어디로 보낼지 결정했으니까 routes로 가서 설정한다.-->","        <a href=\"/mystery/edit/<%= @post.id %>\">","            <span class=\"badge badge-info\">수정</span>","        </a>","        <a href=\"/mystery/destroy/<%= @post.id %>\">","            <span class=\"badge badge-info\">삭제</span>","        </a>","        ","        <!--size 말고 count라 써도됨-->","        <!--<div><%#= @post.liked_users.size%>명이 좋아합니다.</div>-->","        <!--<%# if current_user.is_like?(@post) %>-->","        <!--    <div>-->","                <!--<a href=\"/likes/likes_toggle/<%#= @post.id %>\"><span> 좋아요 취소 </span></a>-->","        <!--        <%#= link_to \"좋아요 취소\", likes_likes_toggle_path(@post), method: \"post\" %>-->","        <!--    </div>-->","        <!--<%# else %>-->","        <!--    <div>-->","                <!--<a href=\"/likes/likes_toggle/<%#= @post.id %>\"><span> 좋아요 </span></a>-->","        <!--        <%#= link_to \"좋아요\", likes_likes_toggle_path(@post), :method => \"post\" %>-->","        <!--    </div>-->","        <!--<%# end %>-->","    </div>","    <!--엔터를 인식시키는 함수-->","    <p><%= simple_format(@post.content) %></p>","    ","    <!--사진을 가져오는 태그를 사용하자. 앞에 image_tag를 적고, 뒤에 image파일의 주소를 주는 것.-->","    ","    <!--이미지 파일이 nil이 아니면 이미지 파일을 띄워준다.-->","    <% unless @post.image.nil? %>","        <%= image_tag @post.image %>","        <%#= image_tag @post.thumb %>","        <%#= image_tag @post.middle %>","    <% end %>","    <hr />","    <!--하나의 post에 달려 있는 reply들을 다 가져 온다.-->","    <div>","        <% @post.mystery_replies.each do |r| %>","            <%= r.user.username %>: <%= r.content %>","            <a href=\"/mystery_reply/destroy/<%= r.id %>\">","                <span class=\"badge badge-danger\">삭제</span>","            </a><br>","        <% end %>","    </div>","    ","    <form action=\"/mystery_reply/create\" method=\"post\">","        <input name=\"authenticity_token\" type=\"hidden\" value=\"<%= @token %>\"></input>","        <!--해당 글의 id를 보내는 데 유저에게 안보이게 보낸다. 이름은 post_id로 해서 보낸다.-->","        <input name=\"post_id\" value=\"<%= @post.id %>\" hidden=\"true\">","        <div class=\"row\">","            <!--rows는 처음 창의 크기를 결정한다.-->","            <textarea name=\"content\" class=\"form-control col-11\" id=\"exampleFormControlTextarea1\" rows=\"3\" placeholder=\"내용을 입력하세요\"></textarea>","            <!--전달할 내용이니까 form안에 버튼을 넣어준다. 데이터를 보내려면 type은 submit-->","            <button type=\"submit\" class=\"btn btn-dark col-1\">댓글쓰기</button>","        </div>","    </form>","    <div style=\"text-align:right;\">","        <a href=\"/mystery/index\">","            <span class=\"badge badge-dark\">목록</span>","        </a>","    </div>","    ","    <div>","        <table class=\"table table-borderless\" margin-left=\"auto\">","          <tbody>","            <tr>","              <td>이전글</td></td>","              <% if @predecessor == -1 %>","                  <td>이전 글이 없습니다.</td>","              <% else %>","                  <td><a href=\"/mystery/show/<%= @predecessor_post_id %>\"><%= @predecessor_post_title %></a></td>","              <% end %>","            </tr>","            <tr>","              <td>다음글</td>","              <% if @successor == -1 %>","              ","                  <td>다음 글이 없습니다.</td>","              <% else %>","                  <td><a href=\"/mystery/show/<%= @successor_post_id %>\"><%= @successor_post_title %></a></td>","              <% end %>","            </tr>","          </tbody>","        </table>","    </div>","</div>"],"id":2},{"start":{"row":0,"column":0},"end":{"row":92,"column":0},"action":"insert","lines":["<section class=\"show\">","  <div class=\"container\">","    <div class=\"news\">","      <div class=\"mycard\">","        <div class=\"card-text\">","          <div class=\"card-title\">","            <h1><%= @post.title %></h1>","            <div class=\"edit\">","              <a href=\"/real_story/edit/<%= @post.id %>\"><i class=\"fas fa-edit\"></i></a>","              <a href=\"/real_story/destroy/<%= @post.id %>\"><i class=\"fas fa-trash-alt\"></i></a>","            </div>","          </div>","          <% if @post.image.nil? %>","              <div class=\"card-photo\">","              </div>","          <% else %>","              <div class=\"card-photo2\">","                <% @post.image.each do |p| %>","                  <%= image_tag p %>","                <% end %>","              </div>","          <% end %>","          <div class=\"content\">","            <div class=\"icon\">","              <% if current_user.is_like?(@post) %>","                <%#= link_to \"좋아요 취소\", likes1_path(p), method: \"post\" %>","                <a href=\"/likes/likes_toggle/<%=@post.id%>\"><i class=\"fas fa-heart\"></i></a>","              <% else %>","                <a href=\"/likes/likes_toggle/<%=@post.id%>\"><i class=\"far fa-heart\"></i></a>","                <%#= link_to \"좋아요\", likes1_path(p), :method => \"post\" %>","              <% end %>","              <% if current_user.is_bookmark?(@post) %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"fas fa-bookmark\"></i></a>","              <% else %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"far fa-bookmark\"></i></a>","              <% end %>","            </div>","            <p><%= @post.liked_users.size%>명이 무서워합니다.</p>","            <p><%= @post.content %></p>","            <hr>","            <div>","              <% @post.real_story_replies.each do |r| %>","                  <%= r.user.username %>: <%= r.content %>","                  <a href=\"/real_story_reply/destroy/<%= r.id %>\">","                      <i class=\"fas fa-backspace reply_icon\"></i>","                  </a><br>","              <% end %>","            </div>","            <hr>","            <form action=\"/real_story_reply/create\" method=\"post\">","                <!--해당 글의 id를 보내는 데 유저에게 안보이게 보낸다. 이름은 post_id로 해서 보낸다.-->","                <input name=\"authenticity_token\" type=\"hidden\" value=\"<%= @token %>\"></input>","                <input name=\"post_id\" value=\"<%= @post.id %>\" hidden=\"true\">","                <div class=\"row\">","                    <!--rows는 처음 창의 크기를 결정한다.-->","                    <textarea name=\"content\" class=\"form-control col-11\" id=\"exampleFormControlTextarea1\" rows=\"3\" placeholder=\"내용을 입력하세요\"></textarea>","                    <!--전달할 내용이니까 form안에 버튼을 넣어준다. 데이터를 보내려면 type은 submit-->","                    <button type=\"submit\" class=\"btn btn-dark col-1\"><i class=\"fas fa-ellipsis-h\"></i></button>","                </div>","            </form>","          </div>","        </div>","      </div>","    </div>","    <div class=\"navi\">","      <div class=\"navi-smail\">","        <ul class=\"detail\">","            <li><%= @post.created_at.to_s.split(\"+\").first %>, <%= time_ago_in_words(@post.created_at)%> ago</li>","            <li><%= @post.user.username %></li>","            <li>조회수:<%= \"#{@post.unique_impression_count}\" %></li>","        </ul>","        <ul class=\"next\">","            <li><p>다음 글 : </p></i>","            <% if @successor == -1 %>","                <p>다음 글이 없습니다.</p>","            <% else %>","                <a href=\"/real_story/show/<%= @successor_post_id %>\"><p><%= @successor_post_title %></p></a>","            <% end %>","            </li>","            <li><p>이전 글 : </p></i>","            <% if @predecessor == -1 %>","                <p>이전 글이 없습니다.</p>","            <% else %>","                <a href=\"/real_story/show/<%= @predecessor_post_id %>\"><p><%= @predecessor_post_title %></p></a>","            <% end %>","            </li>","        </ul>","      </div>","    </div>","  </div>","</section>","",""]}],[{"start":{"row":8,"column":24},"end":{"row":8,"column":34},"action":"remove","lines":["real_story"],"id":3}],[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"insert","lines":["ㅡ"],"id":4}],[{"start":{"row":8,"column":25},"end":{"row":8,"column":26},"action":"insert","lines":["ㅛ"],"id":5}],[{"start":{"row":8,"column":25},"end":{"row":8,"column":26},"action":"remove","lines":["ㅛ"],"id":6}],[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"remove","lines":["ㅡ"],"id":7}],[{"start":{"row":8,"column":24},"end":{"row":8,"column":25},"action":"insert","lines":["m"],"id":8},{"start":{"row":8,"column":25},"end":{"row":8,"column":26},"action":"insert","lines":["y"]},{"start":{"row":8,"column":26},"end":{"row":8,"column":27},"action":"insert","lines":["s"]}],[{"start":{"row":8,"column":27},"end":{"row":8,"column":28},"action":"insert","lines":["t"],"id":9},{"start":{"row":8,"column":28},"end":{"row":8,"column":29},"action":"insert","lines":["e"]},{"start":{"row":8,"column":29},"end":{"row":8,"column":30},"action":"insert","lines":["r"]},{"start":{"row":8,"column":30},"end":{"row":8,"column":31},"action":"insert","lines":["y"]}],[{"start":{"row":9,"column":24},"end":{"row":9,"column":34},"action":"remove","lines":["real_story"],"id":10},{"start":{"row":9,"column":24},"end":{"row":9,"column":31},"action":"insert","lines":["mystery"]}],[{"start":{"row":41,"column":23},"end":{"row":41,"column":33},"action":"remove","lines":["real_story"],"id":11},{"start":{"row":41,"column":23},"end":{"row":41,"column":30},"action":"insert","lines":["mystery"]}],[{"start":{"row":43,"column":28},"end":{"row":43,"column":38},"action":"remove","lines":["real_story"],"id":12},{"start":{"row":43,"column":28},"end":{"row":43,"column":35},"action":"insert","lines":["mystery"]}],[{"start":{"row":49,"column":27},"end":{"row":49,"column":37},"action":"remove","lines":["real_story"],"id":13},{"start":{"row":49,"column":27},"end":{"row":49,"column":34},"action":"insert","lines":["mystery"]}],[{"start":{"row":76,"column":26},"end":{"row":76,"column":36},"action":"remove","lines":["real_story"],"id":14},{"start":{"row":76,"column":26},"end":{"row":76,"column":33},"action":"insert","lines":["mystery"]}],[{"start":{"row":83,"column":26},"end":{"row":83,"column":36},"action":"remove","lines":["real_story"],"id":15},{"start":{"row":83,"column":26},"end":{"row":83,"column":33},"action":"insert","lines":["mystery"]}],[{"start":{"row":18,"column":18},"end":{"row":18,"column":36},"action":"remove","lines":["<%= image_tag p %>"],"id":16}],[{"start":{"row":17,"column":16},"end":{"row":19,"column":25},"action":"remove","lines":["<% @post.image.each do |p| %>","                  ","                <% end %>"],"id":17},{"start":{"row":17,"column":16},"end":{"row":17,"column":34},"action":"insert","lines":["<%= image_tag p %>"]}],[{"start":{"row":17,"column":31},"end":{"row":17,"column":32},"action":"insert","lines":["."],"id":18},{"start":{"row":17,"column":32},"end":{"row":17,"column":33},"action":"insert","lines":["i"]},{"start":{"row":17,"column":33},"end":{"row":17,"column":34},"action":"insert","lines":["m"]},{"start":{"row":17,"column":34},"end":{"row":17,"column":35},"action":"insert","lines":["a"]}],[{"start":{"row":17,"column":32},"end":{"row":17,"column":35},"action":"remove","lines":["ima"],"id":19},{"start":{"row":17,"column":32},"end":{"row":17,"column":37},"action":"insert","lines":["image"]}],[{"start":{"row":17,"column":30},"end":{"row":17,"column":31},"action":"remove","lines":["p"],"id":20}],[{"start":{"row":17,"column":30},"end":{"row":17,"column":31},"action":"insert","lines":["@"],"id":21},{"start":{"row":17,"column":31},"end":{"row":17,"column":32},"action":"insert","lines":["p"]},{"start":{"row":17,"column":32},"end":{"row":17,"column":33},"action":"insert","lines":["o"]},{"start":{"row":17,"column":33},"end":{"row":17,"column":34},"action":"insert","lines":["s"]},{"start":{"row":17,"column":34},"end":{"row":17,"column":35},"action":"insert","lines":["t"]}],[{"start":{"row":29,"column":14},"end":{"row":33,"column":23},"action":"remove","lines":["<% if current_user.is_bookmark?(@post) %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"fas fa-bookmark\"></i></a>","              <% else %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"far fa-bookmark\"></i></a>","              <% end %>"],"id":22},{"start":{"row":29,"column":14},"end":{"row":33,"column":23},"action":"insert","lines":["<% if current_user.is_bookmark?(@post) %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"fas fa-bookmark\"></i></a>","              <% else %>","                <a href=\"/bookmarks/bookmarks_toggle/<%=@post.id%>\"><i class=\"far fa-bookmark\"></i></a>","              <% end %>"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":38},"end":{"row":13,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1534311517876,"hash":"f21ae49f3a4d47aff384f25ec99f93338899e956"}